# 🐑 ONESHEART

런쥔의 생일(2026년 3월 23일)을 맞아 팬들이 마음의 편지를 남기는 인터랙티브 웹앱이야.
모바일 우선으로 설계해줘. 기술 스택은 Next.js, Supabase, Tailwind CSS, Framer Motion이고 배포는 Vercel이야.

디자인 레퍼런스는 `/public/references/` 폴더에 있어. 반드시 참고해서 전체 분위기를 맞춰줘.
전체 무드는 산리오 스타일, 파스텔톤, 따뜻하고 귀여운 느낌이야.

폴더 구조, DB 스키마, API 설계는 아래 기획을 읽고 네가 최적으로 판단해서 만들어줘.

---

## 🌍 세계관

**원스하트 타운**: 런쥔이를 향한 팬들의 마음이 모이는 곳. 언덕 위 분홍빛 건물(마음 저장소)이 있고 주변은 온통 숲.

**런피 (Renffy)**: 핑크 양 캐릭터. 원스하트 타운 우편부. 누룽쥔을 돕는 친구. 이미지는 `public/references/renffy.png`에 있어.

**누룽쥔**: 여우 캐릭터. 원스하트 타운 관리자. 앱에 직접 등장하진 않고 런피 대사에서 언급만 됨.

**스토리**: 런쥔이 생일이 다가오면서 런피가 런쥔이를 향한 마음을 수집 중
---

## 📱 전체 플로우

```
메인 페이지 (/)
 ├─ [편지 쓰러 가기] → /intro
 └─ [현재 마음 송신 확인하기] → /hearts
```

---

## 🎬 Scene별 기획

### Scene 0 — 인트로 (창문)

배경: 몽글몽글 하늘 + 초록 언덕. 닫힌 창문 밖에 런피가 두드리고 있음.

나레이션 텍스트 박스:
> "편지를 쓰다 들린 똑똑 소리. 귀여운 생명체가 창문을 두드리고 있다! 문을 열어달라는 것 같은데..."

선택지: `> 열어준다` / `> 무시한다`

**무시한다 분기**
- 런피: "으응...? 진짜아...? 런쥔이한테 하고 싶은 말 없엉~?"
- 선택지: `사실 있다고 말하며 창문을 열어준다` / `없다고 거절한다`
- 거절 2회: "정말...? 런쥔이가 마음을 받으면 정정말 좋아할텐데...? 😢" (울먹 표정)
- 거절 3회: 화면 암전 → "거절은 거절한다!!" → 창문 강제로 열림

**열어준다**
- 끼익— 효과음과 함께 창문이 양옆으로 열리는 애니메이션
- 런피 등장 → Scene 1으로

---

### Scene 1 — 런피 소개 & 상황 설명

UI: 런피 캐릭터(좌) + 말풍선 대화창(우) Portrait Dialogue Box 형식. 선택지 클릭으로 대화 진행.

런피: "고마웡~!! 나는 런피야! 원스하트 타운에서 왔당!"

선택지: `원스하트 타운이 뭔데?` / `런피는 뭐 하는 애야?`

- **원스하트 타운이 뭔데?**
  런피: "원스하트는 런쥔이한테 향하는 마음들이 모이는 곳이야이랑! 나는 거기서 누룽쥔이랑 같이 런쥔이에게 향하는 마음을 관리한당~! 지금 곧 런쥔이의 생일이라 너무 바빠~!!"
  선택지: `누룽쥔은 누구야?` / `런쥔이가 누구야?`
  - **누룽쥔은 누구야?** → "누룽쥔은 원스하트 타운 관리자야! 여우인데 런쥔이를 꼬옥 닮았당?!" → `그래서 지금 뭐 하는 거야?` → 공통 합류

- **런피는 뭐 하는 애야?** → "나아~? 나는 원스타운의 우편부! 누룽쥔을 돕고 있징!" → 공통 합류

- **런쥔이가 누구야?** → "엥..? 거짓말이지? 슈퍼아이돌 NCT DREAM의 런쥔이를 모른다고?!!!"
  - `농담이야 당연히 알지~` → "ㅎㅎ 그치? 그래서 지금 런쥔이를 향한 마음을 찾아다니고 있는데 딱 너를 발견했어! 딱 보니 런쥔이한테 하고 싶은 말이 많은 것 같은데!! 내가 전해줄겡!" → 공통 합류
  - `응 모르겠는데?` → "너 정말 장난꾸러기구나? 런쥔이한테 편지쓰려고 하던거 다 봤는데~!! 내가 전해줄겡!" → 공통 합류

**공통 합류**
선택지: `좋아!` / `잘 모르겠어...`
- 잘 모르겠어...: "딱 보면 알거등~ 눈에서 보영! 💛 같이 찾아보장!" → `응 알겠어.`

런피: "그럼 마음을 제대로 보내려면 발신자의 정보가 필요행! 저장소에 등록해야 공식 마음이 되거등! 우리는 한 사람당 하나의 마음만 저장소에 등록할 수 있어!"

---

### Scene 2 — 로그인 & 우편부 출입증

Google OAuth 로그인.

로그인 후 닉네임 입력/수정 가능.
닉네임 금지어 (런쥔, 황인준, 황런쥔, 제노, 재민, 해찬, 천러, 마크, 재현 등 NCT 멤버 이름):
런피: "잠깐이랑...? 🤨 이 이름은 이미 원스하트에 등록된 특별한 이름이야당! 다른 이름으로 해줘이랑~"

닉네임 확정 시 스탬프 쾅! 애니메이션과 함께 우편부 출입증 카드 등장.
출입증에는 닉네임, 발급번호(OHW-날짜-번호), 런피 도장이 들어가야 해.

런피: "고마워 __야! 그런데 그거 알아? 우리는 런쥔이를 향한 마음을 분리해서 정리해야돼! 본격적으로 편지를 쓰기 전에 너의 마음을 알아볼게!"

---

### Scene 3 — 심리테스트

한 문항씩 화면 전환. 각 문항 선택지 3개.

**Q1. 런쥔이랑 여행을 간다면 나는~**
- 🌌 우주여행 → 새싹
- 🌊 겨울 부산 바다 뛰어들기 → 파도
- 🏘️ 길림(런쥔이 고향)으로 가기 → 햇살

**Q2. 런쥔이와 꽃집에 왔다. 나는~**
- 🌸 같이 꽃꽂이 하기 → 햇살
- 🌼 서로 어울리는 꽃 골라주기 → 새싹
- 🌺 머리에 꽃 달기 → 파도

**Q3. 런쥔이와 두쫀쿠를 같이 만들기로 했다. 나는~**
- 😆 두쫀쿠같은 런쥔이 볼 한입 하기 → 파도
- 🍡 두쫀쿠 반죽 나눠먹기 → 새싹
- 👏 런쥔이 응원하기 → 햇살

**Q4. 숲을 걷다 런쥔이를 닮은 것을 발견했다. 나는~**
- 🦊 여우 → 햇살
- 🧚 요정 → 새싹
- 🍄 버섯 → 파도

**Q5. 런쥔이가 나 때문에 화가 났다!**
- 🎵 내가 노래 가사를 몰라서 → 햇살
- 😱 잘 놀래는거 아는데 놀래켜서 → 파도
- 😶 런쥔이의 말을 안 들어서 → 새싹

동점 처리는 Q3 > Q1 > Q5 > Q2 > Q4 비중 순으로 처리해줘.

---

### Scene 3 결과 화면

**☀️ 햇살의 마음**
"따사롭게 감싸는 마음. 런쥔이가 잘 먹고 잘 자고 행복하길 바라는, 한없이 포근한 마음이야."
런피: "햇살처럼 따뜻한 마음이구나이랑~ 런쥔이가 제일 좋아할 마음이당! ☀️"
편지지 테마 컬러: 연노랑/피치핑크

**🌱 새싹의 마음**
"감성이 통하는 마음. 런쥔이의 상상력과 감성을 가장 잘 이해하는 마음이야."
런피: "감성이 런쥔이랑 꼭 닮았당이랑~! 둘이 대화하면 끝이 없겠어이랑 🌱"
편지지 테마 컬러: 민트/하늘색

**🌊 파도의 마음**
"장난스럽게 철썩, 런쥔이를 웃게 만드는 마음. 귀여운 남동생 같은 런쥔이한테 장난치고 싶은 마음이야."
런피: "런쥔이 장난기를 제일 잘 아는 마음이당이랑~! 둘이 만나면 난리나겠다 ㅋㅋ 🌊"
편지지 테마 컬러: 하늘색/라벤더

결과 하단 버튼: `편지 쓰러 가기!` / `다시 마음 찾기`

---

### Scene 4 — 편지 쓰기

결과 유형 테마 색상의 하트 모양 편지지.
최대 300자. 50자 이하 시 카운터 색 변경.
편지지 위에 작은 하트/꽃잎 파티클 효과.
런피 작은 말풍선: "천천히 써도 돼이랑~ 런쥔이한테 하고 싶은 말이면 다 좋당 💛"
하단 작은 경고문: "해당 메시지는 추후 생일 카페 전시에 활용될 수 있습니다."
버튼: `다 썼어!`

---

### Scene 5 — 전송 & 피날레

`다 썼어!` 클릭 → 경고창: "제출 후에는 수정이 불가능해! 정말 보낼까?" → `응 보낼게!` / `다시 쓸게`

전송 애니메이션:
1. 편지지가 꼬물꼬물 접혀서 하트 모양으로 변함
2. 런피가 두 손으로 받아들며: "완벽이랑~!! 저장소에 안전하게 전달할게당! 💌"
3. 하트가 하늘로 날아오름

런피: "고마워!! 네가 쓴 메시지와 우편부 출입증은 마이페이지에서 확인할 수 있어! 마음 게이지도 확인해볼 수 있대~ 그럼 나는 다시 다른 마음을 찾아 떠나볼게!! 우리 다음에도 꼭 다시 보장!"
버튼: `인사하기` → 런피 손 흔들며 퇴장 → /hearts로 이동

---

## 💌 /hearts — 마음 게이지 페이지

하늘 배경 + 유리병 안에 하트들이 둥둥 떠다님.
현재 편지 수 / 목표 100개 게이지.
런피 말풍선: "지금 이만큼 마음이 모였당~! 생일 전까지 100개 채워보자이랑 🐑💛"
편지 수는 5분마다 DB에서 가져와서 업데이트해줘.
로그인 상태면 하단에 `내 편지 보러가기` 버튼 추가.

---

## 👤 /mypage — 마이페이지

비로그인 시 접근 불가.
내 우편부 출입증 이미지 표시.
내가 쓴 편지 내용 확인 (본인만 가능).
`출입증 저장하기` 버튼 (이미지로 저장).
로그아웃 버튼.

---

## ⚠️ 주요 제약사항

- 1인 1편지 제한
- 편지 제출 후 수정 불가
- 편지 내용은 본인만 열람 가능
- 닉네임 금지어: 런쥔, 황인준, 황런쥔, 인준, 태용, 이태용, 유타, 나유타, 서쟈니, 서영호, 쟈니, 영호, 도영, 김도영, 김동영, 재현, 정재현, 정윤오, 윤오, 정우, 김정우, 이마크, 마크, 이민형, 민형, 이해찬, 해찬, 동혁, 이동혁, 이제노, 제노, 나재민, 재민, 종천러, 천러, 지성, 박지성
- 모바일 우선 (max-width 430px 기준)
